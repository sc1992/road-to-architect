## Dubbo[^ dubbo reference] Study Notes [^ history version]

> VICTORY LOVES PREPARATION.

[^ dubbo reference]: [百度百科][1]

[^ history version]: 版本信息：
2017年1月25日 下午5:57:14

[TOC]

***

### 、思维导图

<br>
### 一、介绍
- `SUMMARY:`优秀的高性能服务框架。
- `Dubbo`是阿里巴巴公司开源的一个高性能优秀的服务框架，使得应用可通过高性能的`RPC`实现服务的输出和输入功能，可以和`Spring`框架无缝集成。

> *注意：*
> - 服务框架：基于`SOA`（`Service Oriented Architecture`）的框架，面向`Service`进行开发，应用于分布式系统架构。

<br>
### 二、核心部件
#### Remoting
- `SUMMARY:`
- 网络通信框架，实现了sync-over-async和request-response消息机制

> *注意*
> - sync-over-async
> - request-response

#### RPC
- `SUMMARY:`
- 一个远程过程调用的抽象，支持负载均衡、容灾和集群功能

> *注意*
> - 负载均衡
> - 容灾
> - 集群

#### Registry
- `SUMMARY:`
- 服务目录框架，用于服务的注册和服务时间发布、订阅。

<br>
### 三、工作原理
#### Provider
- 暴露服务方称之为“服务提供者”。
#### Consumer
- 调用远程服务方称之为“服务消费者”。
#### Registry
- 服务注册与发现的中心目录服务称之为“服务注册中心”。
#### Monitor
- 统计服务的调用次数和调用时间的日志服务称之为“服务监控中心”。
#### 连通性
- `SUMMARY:`注册中心，服务提供者，服务消费者三者之间均为长连接，监控中心除外。
- 注册中心负责服务地址的注册与查找，相当于目录服务，服务提供者和消费者只在启动时与注册中心交互，注册中心不转发请求，压力较小；
- 监控中心负责统计各服务调用次数，调用时间等，统计先在内存汇总后每分钟一次发送到监控中心服务器，并以报表展示；
- 服务提供者向注册中心注册其提供的服务，并汇报调用时间到监控中心，此时间不包含网络开销；
- 服务消费者向注册中心获取服务提供者地址列表，并根据负载算法直接调用提供者，同时汇报调用时间到监控中心，此时间包含网络开销；
- 注册中心，服务提供者，服务消费者三者之间均为长连接，监控中心除外；
- 注册中心通过长连接感知服务提供者的存在，服务提供者宕机，注册中心将立即推送事件通知消费者；
注册中心和监控中心全部宕机，不影响已运行的提供者和消费者，消费者在本地缓存了提供者列表；
- 注册中心和监控中心都是可选的，服务消费者可以直连服务提供者。

#### 健壮性
- `SUMMARY:`对等集群和缓存支持相应部分宕机之后其余部分“部分”正常使用。
- 监控中心宕掉不影响使用，只是丢失部分采样数据
- 数据库宕掉后，注册中心仍能通过缓存提供服务列表查询，但不能注册新服务
- 注册中心对等集群，任意一台宕掉后，将自动切换到另一台
- 注册中心全部宕掉后，服务提供者和服务消费者仍能通过本地缓存通讯
- 服务提供者无状态，任意一台宕掉后，不影响使用
- 服务提供者全部宕掉后，服务消费者应用将无法使用，并无限次重连等待服务提供者恢复

#### 伸缩性
- `SUMMARY:`注册中心对等集群，服务提供者无状态。
- 注册中心为对等集群，可动态增加机器部署实例，所有客户端将自动发现新的注册中心
- 服务提供者无状态，可动态增加机器部署实例，注册中心将推送新的服务提供者信息给消费者

<br>
### 四、实例
- 

<br>
### X、注意事项

[1]: http://baike.baidu.com/item/Dubbo/18907815#viewPageContent




